# 06_ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

ä»¥ä¸‹ã¯ç¾æ™‚ç‚¹ã§æ•´ç†ã•ã‚ŒãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ§‹æˆå›³ã§ã™ã€‚

## ðŸ”· å…¨ä½“æ§‹æˆï¼ˆMermaidå›³ï¼‰

```mermaid
graph TD

  %% ç¤¾å†…ãƒ¦ãƒ¼ã‚¶ãƒ¼
  subgraph ç¤¾å†…ã‚¢ã‚¯ã‚»ã‚¹ãƒã‚¤ãƒ³ãƒˆ
    U1[ç¤¾å“¡ï¼ˆçµŒç†ãƒ»å–¶æ¥­ç­‰ï¼‰]
    U2[ç®¡ç†è€…ï¼ˆã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ï¼‰]
    U1 -->|HTTPS + VPN| ALB[AWS ALBï¼ˆHTTPSï¼‰]
    U2 -->|HTTPS + VPN| ALB
  end

  %% AWSã‚¤ãƒ³ãƒ•ãƒ©
  subgraph AWS VPCä¸Š
    ALB --> FE[ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼šNext.jsï¼ˆFargateï¼‰]
    FE --> Auth[èªè¨¼èªå¯ï¼šCognito / Auth0]
    FE -->|HTTPS| API_GW[API Gateway]

    API_GW --> BE[ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIï¼šFastAPIï¼ˆFargateï¼‰]
    BE --> DB[(RDSï¼šPostgreSQL æ¥­å‹™DB)]
    BE --> S3[(S3ï¼šè«‹æ±‚æ›¸PDFç­‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸)]
    BE --> Mail[SESï¼ˆãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼‰]
    BE --> Scheduler[EventBridge / Lambdaï¼ˆå®šæœŸå‡¦ç†ï¼‰]
    BE --> Log[CloudWatch Logsï¼ˆæ“ä½œãƒ­ã‚°ï¼‰]

    Scheduler -->|CSV/APIå‡ºåŠ›| AccountingExport[ä¼šè¨ˆãƒ‡ãƒ¼ã‚¿å‡ºåŠ›å‡¦ç†]
  end

  %% ä¼šè¨ˆã‚½ãƒ•ãƒˆï¼ˆå¤–éƒ¨ï¼‰
  AccountingExport --> AccountingSaaS[ä¼šè¨ˆã‚½ãƒ•ãƒˆï¼ˆå¤–éƒ¨SaaSï¼‰]
  AccountingSaaS:::external

  %% è£…é£¾
  classDef external fill:#f9f,stroke:#333,stroke-width:2px

``` 